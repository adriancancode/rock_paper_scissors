<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </body>
    <script>
        let humanScore = 0;
        let computerScore = 0;
        playGame(); 
        function getComputerChoice(){
            let rand = Math.floor(Math.random() * 3) + 1;
            switch(rand) {
                case 1:
                    return "rock";
                    break;
                case 2:
                    return "paper";
                    break;
                case 3:
                    return "scissors";
                    break;
                default:
                    break;
            }

        }

        function getHumanChoice() {
            let choice;
            while (choice != "rock" && choice != "paper" && choice != "scissors") {
                choice = prompt("rock, paper, or scissors?");
            }  
            return choice.toLowerCase();
        }
            
        function playGame() {
            document.getElementById("rock").addEventListener("click", () => {
                let res = playRound("rock");
                if (res == "human") {
                    humanScore++;
                } else if (res == "computer") {
                    computerScore++;
                }
                console.log(`${humanScore} - ${computerScore}`);
            });
            document.getElementById("paper").addEventListener("click", () => {
                let res = playRound("paper");
                if (res == "human") {
                    humanScore++;
                } else if (res == "computer") {
                    computerScore++;
                }
                console.log(`${humanScore} - ${computerScore}`);
            });
            document.getElementById("scissors").addEventListener("click", () => {
                let res = playRound("scissors");
                if (res == "human") {
                    humanScore++;
                } else if (res == "computer") {
                    computerScore++;
                }
                console.log(`${humanScore} - ${computerScore}`);
            });

            if (humanScore == 5) {
                console.log("Human wins");
                return;
            } else if (computerScore == 5) {
                console.log("Computer wins");
                return;
            }

            

           /* for (let i = 1; i <= 5; i++) {
                const computerSelection = getComputerChoice();
                const humanSelection = getHumanChoice();
                console.log(humanSelection);
                console.log(computerSelection);
                let winner = playRound(humanSelection, computerSelection);
                if (winner === "computer") {
                    console.log(`Computer wins with ${computerSelection}.`);
                } else if (winner === "human"){
                    console.log(`You win with ${humanSelection}`);
                } else {
                    console.log("It's a tie!");
                }
            }
            if (humanScore > computerScore) {
                console.log("You win!");
            } else if (computerScore > humanScore) {
                console.log("You lose!");
            } else {
                console.log("It's a tie!");
            }*/
        }

        function playRound(humanChoice) {
            console.log(humanChoice);
            let computerChoice = getComputerChoice();
            console.log(computerChoice);
            if(humanChoice === computerChoice) {
                console.log("tie");
            }
            else if ((computerChoice === "scissors" && humanChoice === "paper") 
                    || (computerChoice === "rock" && humanChoice === "scissors") 
                    || (computerChoice === "paper" && humanChoice === "rock")) {
                        console.log("computer wins this round.");
                        return "computer";
                    }
            else {
                console.log("human wins this round.");
                return "human";
            }
        }
    </script>
</html>